@model IEnumerable<DSRCManagementSystem.Models.Projects>
@{
    ViewBag.Title = "View Projects";
    Layout = "~/Views/Shared/_LayoutAdmin.cshtml";
}
@section AddToHead
{
    <style>
        .abc {
            background-color: #ffb3b3;
        }
    </style>
    <style type="text/css">
        table td:nth-child(2) {
            word-wrap: break-word;
            word-break: break-all;
        }

        table td:nth-child(3) {
            word-wrap: break-word;
            word-break: break-all;
        }

        body {
            overflow-y: auto;
        }

         tr td:nth-child(6) {
            text-align: center;
        }

        tr td:nth-child(7) {
            text-align: center;
        }

        tr td:nth-child(8) {
            text-align: center;
        }
            .dropdown-menu {
    background-color: white;
}

        tr td:nth-child(9) {
            text-align: center;
        }

        .switch {
            position: relative;
            display: block;
            vertical-align: top;
            width: 100px;
            height: 30px;
            padding: 3px;
            margin: 0 10px 10px 0;
            background: linear-gradient(to bottom, #eeeeee, #FFFFFF 25px);
            background-image: -webkit-linear-gradient(top, #eeeeee, #FFFFFF 25px);
            border-radius: 18px;
            box-shadow: inset 0 -1px white, inset 0 1px 1px rgba(0, 0, 0, 0.05);
            cursor: pointer;
        }

        .switch-input {
            position: absolute;
            top: 0;
            left: 0;
            opacity: 0;
        }

        .switch-label {
            position: relative;
            display: block;
            height: inherit;
            font-size: 10px;
            text-transform: uppercase;
            background: #eceeef;
            border-radius: inherit;
            box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.12), inset 0 0 2px rgba(0, 0, 0, 0.15);
        }

            .switch-label:before, .switch-label:after {
                position: absolute;
                top: 50%;
                margin-top: -.5em;
                line-height: 1;
                -webkit-transition: inherit;
                -moz-transition: inherit;
                -o-transition: inherit;
                transition: inherit;
            }

            .switch-label:before {
                content: attr(data-off);
                right: 11px;
                color: #aaaaaa;
                text-shadow: 0 1px rgba(255, 255, 255, 0.5);
            }

            .switch-label:after {
                content: attr(data-on);
                left: 11px;
                color: #FFFFFF;
                text-shadow: 0 1px rgba(0, 0, 0, 0.2);
                opacity: 0;
            }

        .switch-input:checked ~ .switch-label {
            background: #E1B42B;
            box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.15), inset 0 0 3px rgba(0, 0, 0, 0.2);
        }

            .switch-input:checked ~ .switch-label:before {
                opacity: 0;
            }

            .switch-input:checked ~ .switch-label:after {
                opacity: 1;
            }

        .switch-handle {
            position: absolute;
            top: 4px;
            left: 4px;
            width: 28px;
            height: 28px;
            background: linear-gradient(to bottom, #FFFFFF 40%, #f0f0f0);
            background-image: -webkit-linear-gradient(top, #FFFFFF 40%, #f0f0f0);
            border-radius: 100%;
            box-shadow: 1px 1px 5px rgba(0, 0, 0, 0.2);
        }

            .switch-handle:before {
                content: "";
                position: absolute;
                top: 50%;
                left: 50%;
                margin: -6px 0 0 -6px;
                width: 12px;
                height: 12px;
                background: linear-gradient(to bottom, #eeeeee, #FFFFFF);
                background-image: -webkit-linear-gradient(top, #eeeeee, #FFFFFF);
                border-radius: 6px;
                box-shadow: inset 0 1px rgba(0, 0, 0, 0.02);
            }

        .switch-input:checked ~ .switch-handle {
            left: 74px;
            box-shadow: -1px 1px 5px rgba(0, 0, 0, 0.2);
        }

        .switch-label, .switch-handle {
            transition: All 0.3s ease;
            -webkit-transition: All 0.3s ease;
            -moz-transition: All 0.3s ease;
            -o-transition: All 0.3s ease;
        }

    </style>
}
@{
    int SNO = 1;
    bool IsRerportingPerson = bool.Parse(Session["IsRerportingPerson"].ToString());
}
@*<ol class="breadcrumb bc-3">
    <li>
        <a href="@Url.Action("ViewProjects", "Projects")">
            <i class="fa-home"></i>Project Management
        </a>
    </li>
    <li class="active"><strong>Projects</strong></li>
</ol>*@

    <p>
        <a href="@Url.Action("ViewProjects","Projects")"style="color:black ">
            Project Management
        </a>
          &#160;<img src="~/Images/righ-arrow.png" />&#160;
        <b>My Projects</b>
    </p>
<br />

<div class="row">
    <div class="col-md-12">
        <div class="panel panel-default panel-shadow" data-collapsed="0">
            <!-- panel head -->
            <div class="panel-heading">
                <div class="panel-title" color="White">
                    Projects
                </div>
            </div>
            <!-- panel body -->
            <div class="panel-body">
                  
                
                 @using (Html.BeginForm("ViewProjects", "Projects", FormMethod.Post, new { @id = "ViewProjectSearch" }))
                 {
                      <div class="row" style="float:right; padding-right:10px">
                              
                @if (IsRerportingPerson /*|| Convert.ToInt32(Session["RoleID"]) == 59 DO NOT DELETE*/)
                {
                    <div class="btn-group" style="float: right">
                        <div class="form-group" style="float:right;padding-top: 5px; ">
                            
                            @if (Convert.ToInt32(Session["RoleId"]) == DSRCManagementSystem.Models.MasterEnum.Roles.Admin.GetHashCode() /*|| Convert.ToInt32(Session["RoleId"]) == 42 DO NOT DELETE*/)
                            { 
                                
                            <button class="btn btn-blue" style="font-weight: bold;" onclick='EmailStatus()'>
                                    Email Project Status
                                </button>
                            }
                        <input type="button" value="Add Project" class="btn btn-blue" style="font-weight: bold; " onclick='AddNew()'/>
                            
                        </div>
   

                    @*     @if (ViewBag.toggles != null)
                         {
                             //if(@Session["TRUEORFALSE"].ToString() == "false")\
                             if (ViewBag.Value == "false")
                             {
                        <div class="col-md-6" style="width:200px; float:right; padding-top: 5px; padding-left:80px; ">
                                <label class="switch">
                                   @* @Html.CheckBox("Block", new { @id = "switch-input", @class = "switch-input" })*@
                                  @*   <input class="switch-input" type="checkbox" id="switch-input" checked="checked" name="Switch"   />
                                    <span class="switch-label" data-on="My Project" onclick="checks()"  data-off="All" style="width:100px"></span>
                                    <span class="switch-handle">
                                    </span>
                                </label>
                            </div>
                             }
                             else
                             {
                                 <div class="col-md-6" style="width:200px; float:right; padding-top: 5px; padding-left:80px; ">
                                <label class="switch">
                                   @* @Html.CheckBox("Block", new { @id = "switch-input", @class = "switch-input" })*@
                                @*     <input class="switch-input" type="checkbox" id="switch-input"  name="Switch" />
                                    <span class="switch-label" data-on="My Project" onclick="checks()"  data-off=" All" style="width:100px"></span>
                                    <span class="switch-handle">
                                    </span>
                                </label>
                            </div>
                             }
                         }
                         *@
                    </div>
                }
                else
                {
                    <div class="btn-group" style="float: right">
                        <div class="form-group">

                        @*     @if (ViewBag.toggles != null)
                             {
                                 //if(@Session["TRUEORFALSE"].ToString() == "false")\
                                 if (ViewBag.Value == "false")
                                 {
                        <div class="col-md-6" style="width:200px; float:right; padding-top: 5px; padding-left:80px; ">
                                <label class="switch">
                                  // @* @Html.CheckBox("Block", new { @id = "switch-input", @class = "switch-input" })*@
                                   @*  <input class="switch-input" type="checkbox" id="switch-input" checked="checked" name="Switch" />
                                    <span class="switch-label" data-on="My Project" onclick="checks()"  data-off="All" style="width:100px"></span>
                                    <span class="switch-handle">
                                    </span>
                                </label>
                            </div>
                                 }
                                 else
                                 {
                                 <div class="col-md-6" style="width:200px; float:right; padding-top: 5px; padding-left:80px; ">
                                <label class="switch">
                               //    @* @Html.CheckBox("Block", new { @id = "switch-input", @class = "switch-input" })*@
                                    @* <input class="switch-input" type="checkbox" id="switch-input" name="Switch" />
                                    <span class="switch-label" data-on="My Project" onclick="checks()"  data-off=" All" style="width:100px"></span>
                                    <span class="switch-handle">
                                    </span>
                                </label>
                            </div>
                                 }
                             }*@
                            </div>
                        
                        </div>         
                    
                }
                           
                </div>
                     <div class="row">
                         <br>
                     </div>
                    
                     <div class="row">
                         <div class="form-group" style="width: 900px; padding-top: 5px;">
                             <div class="col-md-2" style="width: 102px; padding-top: 5px;">
                                 @Html.DisplayNameFor(model => model.ProjectType)
                             </div>
                             <div class="col-md-3">
                                 @Html.DropDownList("ProjectTypeDL", ViewBag.ProjectTypeList as SelectList, "All", new { @id = "ProjectType", @name = "ProjectType", @class = "form-control" })
                             </div>
                             <div class="col-md-2">
                                 <label>
                                     @Html.CheckBox("Inactive", (Request.Form["Inactive"] ?? string.Empty).Contains("false"), new { @id = "InActive" })
                                     Show Inactive
                                 </label>
                             </div>
                             <div class="col-md-4" style="float: left; margin-left: 0px; padding-right: 0px; padding-left: 0px">
                                 <button type="submit" name="btn_Submit" class="btn btn-info btn-icon" onclick="GO()">
                                     Search <i class="entypo-search"></i>
                                 </button>

                                 <button type="button" id="btnAdd" class="btn btn-default" onclick="Reset()">
                                     Reset
                                 </button>


                                 @if (ViewBag.toggles != null)
                                 {
                                     //if(@Session["TRUEORFALSE"].ToString() == "false")\
                                     if (ViewBag.Value == "false")
                                     {
                                     <div class="col-md-6" style="float: right; margin-left: 0px; padding-right: 0px; padding-left: 0px; width: 100px;">
                                         <label class="switch">
                                             @* @Html.CheckBox("Block", new { @id = "switch-input", @class = "switch-input" })*@
                                             <input class="switch-input" type="checkbox" id="switch-input" checked="checked" name="Switch" />
                                             <span class="switch-label" data-on="My Project" onclick="checks()" data-off="All" style="width: 100px"></span>
                                             <span class="switch-handle"></span>
                                         </label>
                                     </div>
                             }
                             else
                             {
                                     <div class="col-md-6" style="float: right; margin-left: 0px; padding-right: 0px; padding-left: 0px; width: 100px;">
                                         <label class="switch">
                                             @* @Html.CheckBox("Block", new { @id = "switch-input", @class = "switch-input" })*@
                                             <input class="switch-input" type="checkbox" id="switch-input" name="Switch" />
                                             <span class="switch-label" data-on="My Project" onclick="checks()" data-off=" All" style="width: 100px"></span>
                                             <span class="switch-handle"></span>
                                         </label>
                                     </div>
                             }
                         }
                             </div>

                         </div>

                     </div>
                     <div class="row">
                        
                     </div>
                    @*</div>*@
                    <div class="clear">
                    </div>
                    <br />
                    <table class="table table-bordered datatable" id="tblProjects">
                        <thead>
                            <tr>
                                <th style="text-align: center;">
                                    S.No
                                </th>

                                <th style="text-align: center;">
                                    @Html.DisplayNameFor(model => model.ProjectName)
                                </th>
                                <th style="text-align: center;">
                                    @Html.DisplayNameFor(model => model.ProjectCode)
                                </th>
                                <th style="text-align: center;">
                                    @Html.DisplayNameFor(model => model.ProjectType)
                                </th>
                                @*<th>@Html.DisplayNameFor(model => model.SvnRepositoryUrl)
                                    </th>
                                    <th>@Html.DisplayNameFor(model => model.DateCreated)
                                    </th>
                                    <th>@Html.DisplayNameFor(model => model.IsActive)
                                    </th>*@
                                <th style="text-align: center;">
                                    RAG Status
                                </th>
                                <th style="text-align: center;">
                                   Assign Check List
                                </th>


                                <th>
                                    Add  RAG Status
                                </th>
                                <th>
                                    Details
                                </th>


                                    @* if (Convert.ToInt32(Session["RoleId"]) == 4)
                                        {
                                            <th>
                                             </th>
                                        <th></th>
                                         <th></th>

                                        }*@
                                    <th>
                                        Edit
                                    </th>

                                      @if (IsRerportingPerson)
                                      {
                                    <th>
                                        Delete
                                    </th>
                                      }
                                
                                @* @foreach (var item in Model)
                                            {

                                    if (item.IsActive == false)
                                    {*@
                                    @* <th>
                                            Delete
                                        </th>  *@
                                    @*}
                                        }*@





                                    @* else
                                          {
                                              <th>
                                              </th>
                                        <th></th>
                                              <th></th>

                                          }*@
                                    @*                              <th></th>
                                        <th></th>*@
                                </tr>
                            </thead>
                            @foreach (var item in Model)
                            {
                                <tr class="@Html.Raw((item.ProjectType == "Fixed Price") ? "abc" : "")">
                                    <td style="text-align: center;">
                                        @(SNO++)
                                    </td>
                                    @if (item.ProjectType == "Fixed Price")
                                    {
                                        <td>
                                            <a onclick='Barprog("@item.ProjectID")'>@item.ProjectName </a>
                                        </td>

                                        <td>
                                            <a onclick='PhaseCompletion("@item.ProjectID")'>@item.ProjectCode</a>
                                        </td>
                                    }
                                    else
                                    {
                                        <td>
                                            @item.ProjectName
                                        </td>

                                        <td>
                                            @item.ProjectCode
                                        </td>
                                    }
                                    <td>
                                        @Html.DisplayFor(modelitem => item.ProjectType)
                                    </td>
                                    @if (IsRerportingPerson || item.MemberTypeID == 4 || item.MemberTypeID == 5 || item.MemberTypeID == 6 || item.MemberTypeID == 7)
                                    {
                                        <td style="text-align: center;">
                                            <img src="@Html.Raw((item.RAGStatus == 3) ? "../../Content/Template/images/Circle_Green.png" : (item.RAGStatus == 2) ? "../../Content/Template/images/Circle_Orange.png" : "../../Content/Template/images/Circle_Red.png")" />
                                        </td>
                                    }
                                    else
                                    {
                                        <td style="text-align: center;">
                                            <img src="@Html.Raw((item.RAGStatus == 3) ? "../../Content/Template/images/Circle_Green.png" : (item.RAGStatus == 2) ? "../../Content/Template/images/Circle_Orange.png" : "../../Content/Template/images/Circle_Red.png")" />
                                        </td>
                                    }

                                    @*                               @if (IsRerportingPerson)
                                        {
                                            <td style="text-align: center;">
                                                <a class="btn btn-info" href='@Url.Action("CommentsSummary", "Projects", new { projectID = @item.ProjectID })'>
                                                    Status Summary</a>
                                            </td>
                                        }
                                        <td style="text-align: center;">
                                                @Html.DisplayFor(modelitem => item.Metrics)
                                                <a>
                                                    <button type="button" class="btn btn-info btn-icon icon-left" onclick='Metrics(@item.ProjectID)' >
                                                        <i class="entypo-info"></i>Metrics
                                                    </button>
                                                </a>
                                            </td>*@



                                    <td style="text-align: center; width: 10%;">
                                           
                                            <a href="#" data-toggle="tooltip" title="Assign Check List">
                                              @*  <button type="button" class="btn btn-info" onclick="@("window.location.href='" + @Url.Action("AsssignCheckList", "AssignCheckList") + "'")    ;">*@
                                                    <button type="button" class="btn btn-info" onclick="@("window.location.href='" + @Url.Action("AsssignCheckList", "AssignCheckList", new { ProjectID = @item.ProjectID, v1 = ViewBag.value }) + "'");" )  >
                                                    <i class="entypo-list"></i>
                                                </button>
                                            </a>
                                        </td>



                                   

                                    @if (IsRerportingPerson || item.MemberTypeID == 4 || item.MemberTypeID == 5 || item.MemberTypeID == 6 || item.MemberTypeID == 7 /*|| Convert.ToInt32(Session["RoleID"]) == 59 DO NOT DELETE*/)
                                    {
                                        <td style="text-align: center; width: 10%;">
                                            @*<a class="btn btn-info btn-sm btn-block btn-icon icon-left" onclick='ChangeRAGStatus("@item.ProjectID")'>
                                                <i class="entypo-plus-squared"></i>Add RAG Status</a>*@
                                            <a href="#" data-toggle="tooltip" title="Add RAG Status">
                                                <button type="button" class="btn btn-info" onclick='ChangeRAGStatus("@item.ProjectID")'>
                                                    <i class="entypo-plus-squared"></i>
                                                </button>
                                            </a>
                                        </td>
                                    }
                                    else
                                    {
                                        <td style="text-align: center; width: 10%;">
                                            <a href="#" data-toggle="tooltip" title="Add RAG Status">
                                                <button type="button" class="btn btn-info" disabled="disabled">
                                                    <i class="entypo-plus-squared"></i>
                                                </button>
                                            </a>
                                        </td>
                                    }
                                    @if (IsRerportingPerson)
                                    {
                                        <td style="text-align: center">
                                            <a class="btn btn-info" data-toggle="tooltip" title="Details" href='@Url.Action("Tab", "Projects", new { Id = @item.ProjectID, TypeID = 0, v1 = ViewBag.value })'>
                                                <i class="entypo-doc-text"></i>
                                            </a>
                                        </td>
                                    }
                                    else if (item.MemberTypeID == 4 || item.MemberTypeID == 5 || item.MemberTypeID == 6 || item.MemberTypeID == 7)
                                    {
                                        <td style="text-align: center">
                                            <a class="btn btn-info" data-toggle="tooltip" title="Details" href='@Url.Action("Tab", "Projects", new { Id = @item.ProjectID, TypeID = @item.MemberTypeID, v1 = ViewBag.value })'>
                                                <i class="entypo-doc-text"></i>
                                            </a>
                                        </td>
                                    }
                                    else if (item.MemberTypeID == 2 || item.MemberTypeID == 3)
                                    {
                                       <td style="text-align: center">
                                            <a class="btn btn-info" data-toggle="tooltip" title="Details" href='@Url.Action("Tab", "Projects", new { Id = @item.ProjectID, TypeID = @item.MemberTypeID, v1 = ViewBag.value })'disabled="disabled">
                                                <i class="entypo-doc-text"></i>
                                            </a>
                                        </td>
                                    }
                                    else
                                    {
                                        if (item.MemberTypeID == 1 || item.MemberTypeID == 4 || item.MemberTypeID == 5 || item.MemberTypeID == 6 || item.MemberTypeID == 7)
                                        {
                                        <td style="text-align: center">
                                            <a class="btn btn-info" data-toggle="tooltip" title="Details" href='@Url.Action("Tab", "Projects", new { Id = @item.ProjectID, TypeID = 0, v1 = ViewBag.value })'>
                                               <i class="entypo-doc-text"></i>
                                            </a>
                                            @*  <a class="btn btn-info enabled">Details</a>*@
                                        </td>
                                        }
                                        else
                                        {
                                         <td style="text-align: center">
                                            <a class="btn btn-info" data-toggle="tooltip" title="Details"  href='@Url.Action("Tab", "Projects", new { Id = @item.ProjectID, TypeID = 0, v1 = ViewBag.value })' onclick="return false;">
                                           <i class="entypo-doc-text"></i>
                                            </a>
                                            @*  <a class="btn btn-info enabled">Details</a>*@
                                        </td>
                                        }
                                    }
                                    @*@if (IsRerportingPerson || item.MemberTypeID == 4 || item.MemberTypeID == 5 || item.MemberTypeID == 6 || item.MemberTypeID == 7)*@
                                    @if (IsRerportingPerson)
                                    {
                                        <td style="text-align: center">
                                            <a href="#" data-toggle="tooltip" title="Edit" class="btn btn-info" onclick='EditProject("@item.ProjectID")'>
                                                <i class="entypo-pencil"></i>
                                            </a>
                                        </td>
                                        if (ViewBag.InActive)
                                        {
                                            <td style="text-align: center">
                                                <a class="btn btn-danger" data-toggle="tooltip" title="Delete" onclick='DeleteProject(@item.ProjectID,"@item.ProjectName")'>
                                                    <i class="entypo-cancel"></i>
                                                </a>
                                            </td>
                                        }
                                        else
                                        {
                                            <td style="text-align: center">
                                                <a class="btn btn-danger" data-toggle="tooltip" title="Delete"   onclick='DeleteProject(@item.ProjectID,"@item.ProjectName")' disabled>
                                                    <i class="entypo-cancel"></i>
                                                </a>
                                            </td>
                                        }
                                        @*if (Convert.ToInt32(Session["RoleId"]) == DSRCManagementSystem.Models.MasterEnum.Roles.Admin.GetHashCode() || item.Isdelete == true)
                                            {
                                            <td style="text-align: center">
                                                <a class="btn btn-danger" data-toggle="tooltip" title="Delete" onclick='DeleteProject(@item.ProjectID,"@item.ProjectName")'>
                                                    <i class="entypo-cancel"></i></a>
                                            </td>
                                            }

                                            else if (Convert.ToInt32(Session["RoleId"]) == DSRCManagementSystem.Models.MasterEnum.Roles.Admin.GetHashCode() || item.Isdelete == false)
                                            {
                                                if(item.IsActive==false)
                                                {
                                            <td style="text-align: center">
                                                <a class="btn btn-danger" data-toggle="tooltip" title="Delete" onclick='Inactive()'><i
                                                 class="entypo-cancel"></i></a>

                                            </td>


                                            }*@
                                    }
                                    else
                                    {
                                    
                                    <td style="text-align: center">
                                            <a href="#" data-toggle="tooltip" class="btn btn-info" onclick='EditProject("@item.ProjectID")' disabled="disabled">
                                                <i class="entypo-pencil"></i>
                                            </a>
                                        </td>
                                    
                                    }
                                    @*                                  <td style="text-align: center;">
                                            @Html.DisplayFor(modelitem => item.Metrics)
                                            <a >
                                                <button type="button" class="btn btn-info btn-icon icon-left"onclick="@("window.location.href='" + @Url.Action("ViewMetrics", "Projects", new { ProjectID = @item.ProjectID }) + "'");" )  >
                                                    <i class="entypo-info"></i>View Metrics
                                                </button>l
                                            </a>
                                        </td>*@
                                </tr>
                            }
                        </table>
                 }
            </div>
            
        </div>
        
    </div>
</div>

<div class="modal fade in" id="portlet-config" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
     aria-hidden="true">
    <div class="modal-dialog">
        <div class="tools">
            <div id="PartialSection">
            </div>
            
        </div>
        
    </div>
</div>
@section scripts
{

    <script src="../../Content/Template/js/jquery.dataTables.min.js" type="text/javascript"></script>
    <script src="../../Content/Template/js/dataTables.bootstrap.js" type="text/javascript"></script>
    <script type="text/javascript">
        jQuery(document).ready(function ($) {
            var columnDefs;
            $("#ProjectType").select2();
            //            if ($("aTargets")[6]) {
            //            columnDefs = [{ bSortable: false, 'aTargets': [4] }, { bSortable: false, 'aTargets': [5] }];
            //                //columnDefs = [{ bSortable: false, 'aTargets': [4] }, { bSortable: false, 'aTargets': [5] }, { bSortable: false, 'aTargets': [6]}];
            //                }
            //            } else {
            //                columnDefs = [{ bSortable: false, 'aTargets': [4] }, { bSortable: false, 'aTargets': [5]}];
            //            }
           @* $("#tblProjects").dataTable({
                //"lengthMenu": [[10, 25, 50, -1], [10, 25, 50, "All"]],
                "lengthMenu": [[5, 15, 20, -1], [5, 15, 20, "All"]],
                "sPaginationType": "bootstrap",
                "columnDefs": [{ bSortable: false, 'aTargets': [5] }, { bSortable: false, 'aTargets': [4] }, { bSortable: false, 'aTargets': [6] }, { bSortable: false, 'aTargets': [7] }@*, { bSortable: false, 'aTargets': [8] }*@ @*]
            });*@

            var table = $("#tblProjects").dataTable({
                "lengthMenu": [[10, 25, 50, -1], [10, 25, 50, "All"]],

                "sPaginationType": "bootstrap",
                "aaSorting": [],
                "columnDefs": [{ bSortable: false, 'aTargets': [5] }, { bSortable: false, 'aTargets': [4] }, { bSortable: false, 'aTargets': [6] }, { bSortable: false, 'aTargets': [7] }@*, { bSortable: false, 'aTargets': [8] }*@],

                stateSave: true,
                stateSaveCallback: function (settings, data) {
                    localStorage.setItem('DataTables_' + settings.sInstance, JSON.stringify(data))
                },
                stateLoadCallback: function (settings) {
                    return JSON.parse(localStorage.getItem('DataTables_' + settings.sInstance))
                }
            });
            $(".dataTables_wrapper select").select2({
                //minimumResultsForSearch: -1
            });
            $('thead>tr>th').css('text-align', 'center');
        });
    </script>
    <script type="text/javascript">
        var opts = {
            "closeButton": true,
            "debug": false,
            "positionClass": "toast-top-right",
            "toastClass": "White",
            "onclick": null,
            "showDuration": "300",
            "hideDuration": "1000",
            "timeOut": "1000",
            "extendedTimeOut": "1000",
            "showEasing": "swing",
            "hideEasing": "linear",
            "showMethod": "fadeIn",
            "hideMethod": "fadeOut"
        }


        


        function AddNew() {
            $.ajax({
                url: "../../Projects/AddNew/",
                type: 'GET', cache: false,
                success: function (result) {
                    $('#PartialSection').html(result);
                    $('#portlet-config').appendTo("body").modal('show');
                }
            })
        }

        function Barprog(id) {
            $.ajax({
                url: "../../Projects/Barprog/",
                type: 'GET', cache: false,
                data: { ID: id },
                success: function (result) {
                    $('#PartialSection').html(result);
                    $('#portlet-config').appendTo("body").modal('show');
                }
            })
        }


        function PhaseCompletion(id) {
            $.ajax({
                url: "../../Projects/PhaseCompletion/",
                type: 'GET', cache: false,
                data: { ID: id },
                success: function (result) {
                    $('#PartialSection').html(result);
                    $('#portlet-config').appendTo("body").modal('show');
                }
            })
        }

        function EditProject(uid) {

            $.ajax({
                url: "../../Projects/EditProject/",
                type: 'GET', cache: false,
                data: { ID: uid },
                success: function (result) {
                    $('#PartialSection').html(result);
                    $('#portlet-config').appendTo("body").modal('show');
                }
            })
        }
        function DeleteProject(uid, pName) {
            bootbox.confirm("Are you sure want to delete ?", function (result) {
                if (result) {
                    $.ajax({
                        url: "../../Projects/DeleteProject/",
                        type: 'GET',
                        cache: false,
                        data: { ID: uid },
                        success:
                           function (result) {
                               $("#" + uid).remove();
                               setTimeout(function () {
                                   toastr.success("Project has been deleted sucessfully", opts);
                               }, 0);
                               setTimeout(function () { // wait 2 seconds and reload
                                   window.location = window.location;
                               }, 1500);
                           }
                    });
                }
            });
        }

        function Metrics(id) {
            $.ajax({
                url: "../../Projects/Metrics/" + id,
                type: 'GET', cache: false,
                success: function (result) {
                    $('#PartialSection').html(result);
                    $('#portlet-config').appendTo("body").modal({ backdrop: 'static', keyboard: false });
                }
            });
        }

        function Inactive() {

            toastr.warning("Please inactive the project");
        }

        function ChangeRAGStatus(pid) {
            $.ajax({
                url: "../../Projects/ChangeRAGStatus/",
                type: 'GET', cache: false,
                data: { ID: pid },
                success: function (result) {
                    $('#PartialSection').html(result);
                    $('#portlet-config').appendTo("body").modal('show');
                }
            });
        }
        function EmailStatus() {
            $.ajax({
                url: "../../Projects/ProjectSummary/",
                type: 'GET', cache: false,
                success: function (result) {
                    if (result == true)
                        toastr.success("Project status sent sucessfully", opts);
                }
            });
        }

        $(function () {
            $(".datetimepicker").datepicker({
                format: 'dd/mm/yyyy',
                todayHighlight: true,
                daysOfWeekDisabled: [0, 6],
                autoclose: true,
            });
        });

        function Reset() {
            var url = '@Url.Action("ViewProjects", "Projects")';
              window.location.href = url;
        }

       

        function checks() {
           
             var flag = ($('#switch-input').prop("checked") == true);

            window.location.href = '@Url.Action("ViewProjects", "Projects")' + '?ID=' + flag;


        }


        function GO() {




            
            $("#ViewProjectSearch").submit();
           
           @* var Switch = $('#switch-input').prop("checked");

            var ProjectTypeDL = $("#ProjectType").find("option:selected").prop("value");

            var Inactive = $("#InActive").prop("checked");

            var url1 = '@Url.Action("ViewProjects", "Projects")';

            $.post(url1,
                { Switch: Switch, ProjectTypeDL: ProjectTypeDL, Inactive: Inactive }
               
                )*@
           
        }
    </script>
}
