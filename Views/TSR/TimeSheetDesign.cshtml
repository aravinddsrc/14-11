@model DSRCManagementSystem.Models.Taskmodel
@{
    ViewBag.Title = "Timesheet Management";
    Layout = "~/Views/Shared/_LayoutAdmin.cshtml";
}
@section AddToHead
{
    <link href="../../Content/Template/js/select2/select2-bootstrap.css" rel="stylesheet"
        type="text/css" />
    <link href="../../Content/Template/js/select2/select2.css" rel="stylesheet" type="text/css" />
    <link href="../../Content/Calender/fullcalendar.css" rel="stylesheet" type="text/css" />
    <link href="../../Content/Calender/fullcalendar.print.css" rel="stylesheet" type="text/css"
        media="print" />
    <link href="../../Content/horizontal%20barchart/css/horizBarChart.css" rel="stylesheet"
        type="text/css" />
    <style>
        #calendar
        {
            max-width: 900px;
            margin: 0 auto;
            padding: 0;
            font-family: "Lucida Grande" ,Helvetica,Arial,Verdana,sans-serif;
            font-size: 14px;
        }
        
        #tblSubmittedLeaveRequest td:nth-child(1)
        {
            text-align: center;
        }
        
        #tblSubmittedLeaveRequest td:nth-child(6)
        {
            text-align: center;
        }
        #tblProjects2 td:nth-child(3)
        {
            word-wrap: break-word ; word-break: break-all;
        }
        
        .colorClass1
        {
            background-color: rgb(245,105,84);
            border-color: rgb(245,105,84);
        }
        .colorClass2
        {
            background-color: rgb(0,141,76);
            border-color: rgb(12,158,55);
        }
        .colorClass3
        {
            background-color: rgb(0,115,183);
            border-color: rgb(0,84,168);
        }



        
       .dropdown-menu {
    background-color: white;
          }  
       
    </style>
}

  @{
      int SNO = 1;
    
}

@{
    int ForPagination = @Session["PaginationNumber"] != null ? Convert.ToInt32(@Session["PaginationNumber"].ToString()) : 0;
}

<div class="row">
 <ol class="breadcrumb bc-3">
    <li>Timesheet Management</li>
        <li class="active"><strong>Manage Timesheet</strong></li>
    </ol>
    @{
        if (ForPagination > 0)
        {
        <ul class="nav nav-tabs bordered" role="tablist">
            <!-- available classes "bordered", "right-aligned" -->
            <li><a href="#enrollment" data-toggle="tab" role="tab">Current Enrollment</a></li>
            <li class="active"><a href="#TimeSheetManagement" data-toggle="tab" role="tab">TimeSheetManagement History</a></li>
        </ul>
        }
        else
        {  
          
                
    if(@Model.newtask ==1)
    {
         <ul class="nav nav-tabs bordered" role="tablist">
            <!-- available classes "bordered", "right-aligned" -->
            <li ><a href="#enrollment" data-toggle="tab" role="tab">Phase</a></li>
            <li class="active"><a href="#TimeSheetManagement" data-toggle="tab" role="tab">Task</a></li>
             <li><a href="#learning1" data-toggle="tab" role="tab">Assign  Task</a></li>
        </ul>
    }
    else if(@Model.newassigntask ==1)
    {
         <ul class="nav nav-tabs bordered" role="tablist">
            <!-- available classes "bordered", "right-aligned" -->
            <li ><a href="#enrollment" data-toggle="tab" role="tab">Phase</a></li>
            <li ><a href="#TimeSheetManagement" data-toggle="tab" role="tab">Task</a></li>
             <li class="active"><a href="#learning1" data-toggle="tab" role="tab">Assign  Task</a></li>
        </ul>
        
        
    } 
    
    
    else
    {
        
      <ul class="nav nav-tabs bordered" role="tablist">
            <!-- available classes "bordered", "right-aligned" -->
            <li class="active"><a href="#enrollment" data-toggle="tab" role="tab">Phase</a></li>
            <li><a href="#TimeSheetManagement" data-toggle="tab" role="tab">Task</a></li>
             <li><a href="#learning1" data-toggle="tab" role="tab">Assign  Task</a></li>
        </ul>   
    }
        }
        
        
        }
        <br />
                       
                        <div class="panel-body">
                            <div class="clear">
                            </div>
                            <br />


@if (@Model.newtask != 1 && @Model.newassigntask != 1)
{    
     <div class="tab-content">
     
    

     
      
    @*  Add Phase *@


     <div class="tab-pane active" id="enrollment">
            <div class="row">
                <div class="col-md-12">
                <div class="panel-heading">
@*                            <div class="panel-title" color="White">
                                Current Enrollment</div>*@
                        </div>
                    @{
    Html.RenderAction("AddPhase", "TSR");
                    }
                </div>
            </div>
            </div>



            @* Add Task *@

             <div class="tab-pane" id="TimeSheetManagement">
        @*  <ol class="breadcrumb bc-3">
           <li> Task </li>
        <li class="active"><strong>Add Task</strong></li>
    </ol>  *@

            <div class="row">
                <div class="col-md-12">
                    <div class="panel panel-default panel-shadow" data-collapsed="0">
                        <div class="panel-heading">
                           <div class="panel-title" color="White">
                                Task</div>
                        </div>
                        <div class="panel-body">
                      <div class="btn-group" style="float:right" id="AddNewProject">                 
                     <button class="btn btn-blue" style="font-weight:bold;right: 20px;left: 0px;" type="button"  style="width: 100px;" onclick='AddTask()' >
                        Add Task
                    </button>
                        </div>
                            <div class="clear">
                            </div>
                            <br />
                               @using (Html.BeginForm("TimeSheetDesign", "TSR", FormMethod.Post))
                               { 
                        <table class="table table-bordered datatable" id="tblProjects1">
                                 <thead>
                                <tr>
                                   @* <th>
                                       Task ID
                                    </th>
                                  *@
                                     <th>
                                       Project Name
                                    </th>

                                   
                                
                                    <th>
                                     Phase Name
                                    </th>
                                     <th>
                                      Phase Status
                                    </th>
                                       <th>
                                        Task Status
                                    </th>

                                      <th>
                                       Task  Name
                                    </th>                           
                                  
                                    <th>
                                      No Of Efforts
                                     
                                    </th>
                                  
                                    <th>
                                     Start Date
                                    </th>

                                    <th>
                                   End Date
                                    </th>
                                      
                                   <th >
                                   @*  @Html.DisplayName("Edit")*@
                                     Edit
                                    </th>

                                    <th>
                                      @Html.DisplayName("Delete")
                                     
                                    </th>
                                </tr>
                            </thead>
                                @{
                                   foreach (var item in Model.addtask)
                                   {
                                       if (@item.EndDate < System.DateTime.Now)
                                       {                       
                                    <tr>
                                     @*   <td style="text-align: center">
                                             @Html.DisplayFor(modelitem => item.ID)
                                        </td>*@
                                        <td style="width:3800px;word-wrap:breakword;word-break:break-all;Color:Red;text-align:left;">
                                            @Html.DisplayFor(modelitem => item.ProjectName)
                                        </td>

                                        <td style="width:3800px;word-wrap:breakword;word-break:break-all;Color:Red;text-align:left;">
                                            @Html.DisplayFor(modelitem => item.PhaseName)
                                        </td>
                                        
                                         <td style="width:3800px;word-wrap:breakword;word-break:break-all;Color:Red;text-align:left;">
                                        @Html.DisplayFor(modelitem => item.PhaseStatus)
                                        </td>
                                         <td style="width:3800px;word-wrap:breakword;word-break:break-all;Color:Red;text-align:left;">
                                        @Html.DisplayFor(modelitem => item.Taskstatus)
                                        </td>
                                          <td style="width:3800px;word-wrap:breakword;word-break:break-all;Color:Red;text-align:left;">
                                        @Html.DisplayFor(modelitem => item.TaskName)
                                        </td>

                                       <td style="text-align:center;">
                                        @Html.DisplayFor(modelitem => item.Efforts)
                                        </td>
                                        @if (item.StartDate.HasValue)
                                        {
                                      <td style="width:3000px;word-wrap:breakword;word-break:break-all;Color:Red;text-align:center;">
                                    @item.StartDate.Value.ToString("dd/MM/yyyy")
                                   </td>
                                        }
                                      @if (item.EndDate.HasValue)
                                      {
                                        <td style="width:3000px;word-wrap:breakword;word-break:break-all;Color:Red;text-align:center;">
                                     
                                          @item.EndDate.Value.ToString("dd/MM/yyyy")
                                        </td>
                                      }
                                  
                                      <td>
                                        <a>
                                            <button type="button" class="btn btn-info btn-sm btn-block btn-icon icon-left" onclick='EditTask("@item.ID")'>
                                            <i class="entypo-pencil"></i>Edit
                                            </button>
                                        </a>
                                    </td>
                                    @* <td>
                                 
                                  <a>
                              <button type="button"  class="btn btn-red btn-icon icon-left"  onclick='DeleteTask("@item.ID")' >
                              <i class="entypo-info" ></i> Delete
                              </button>
                              </a>  
                                </td>*@
                                 @if(item.alreadyassigned ==0)
                                 {
                                  <td style="text-align: center;">
                                             <a>
                                                <button type="button" class="btn btn-red btn-icon icon-left"  onclick='DeleteTask("@item.ID")' >
                                                    <i class="entypo-cancel"></i>Delete
                                                </button>
                                                 </a>
                                         
                                        </td> 
                                     }
                                     else
                                     {
                                     <td style="text-align: center;">
                                             <a>
                                                <button type="button" class="btn btn-red btn-icon icon-left"  onclick='already()' >
                                                    <i class="entypo-cancel"></i>Delete
                                                </button>
                                                 </a>
                                         
                                        </td> 
                                     
                                     }
                                    </tr>
                                       }

                                       else
                                       {
                                            <tr>
                                      @*  <td style="text-align: center">
                                             @Html.DisplayFor(modelitem => item.ID)
                                        </td>*@
                                        <td style="width:3800px;word-wrap:breakword;word-break:break-all;text-align:left;">
                                            @Html.DisplayFor(modelitem => item.ProjectName)
                                        </td>
                                       
                                         <td style="width:3800px;word-wrap:breakword;word-break:break-all;text-align:left;">
                                        @Html.DisplayFor(modelitem => item.PhaseStatus)
                                        </td>
                                         <td style="width:3800px;word-wrap:breakword;word-break:break-all;text-align:left;">
                                            @Html.DisplayFor(modelitem => item.PhaseName)
                                        </td>
                                         <td style="width:3800px;word-wrap:breakword;word-break:break-all;text-align:left;">
                                        @Html.DisplayFor(modelitem => item.Taskstatus)
                                        </td>
                                         <td style="width:3800px;word-wrap:breakword;word-break:break-all;text-align:left;">
                                        @Html.DisplayFor(modelitem => item.TaskName)
                                        </td>
                                       <td style="text-align:center;">
                                        @Html.DisplayFor(modelitem => item.Efforts)
                                        </td>
                                        @if (item.StartDate.HasValue)
                                        {
                                      <td style="width:3000px;word-wrap:breakword;word-break:break-all;text-align:center;">
                                    @item.StartDate.Value.ToString("dd/MM/yyyy")
                                   </td>
                                        }
                                      @if (item.EndDate.HasValue)
                                      {
                                        <td style="width:3000px;word-wrap:breakword;word-break:break-all;text-align:center;">
                                     
                                          @item.EndDate.Value.ToString("dd/MM/yyyy")
                                        </td>
                                      }
                                       
                                      <td>
                                        <a>
                                            <button type="button" class="btn btn-info btn-sm btn-block btn-icon icon-left" onclick='EditTask("@item.ID")'>
                                            <i class="entypo-pencil"></i>Edit
                                            </button>
                                        </a>
                                    </td>
                             @*        <td>
                                 
                                  <a>
                              <button type="button"  class="btn btn-red btn-icon icon-left"  onclick='DeleteTask("@item.ID")' >
                              <i class="entypo-info" ></i> Delete
                              </button>
                              </a>  
                                </td> *@
                                @if(item.alreadyassigned==0)
                                {
                                   <td style="text-align: center;">
                                             <a>
                                                <button type="button" class="btn btn-red btn-icon icon-left" onclick='DeleteTask("@item.ID")'>
                                                    <i class="entypo-cancel"></i>Delete
                                                </button>
                                                 </a>
                                         
                                        </td>
                                    }
                                    else
                                    {
                                      <td style="text-align: center;">
                                             <a>
                                                <button type="button" class="btn btn-red btn-icon icon-left" onclick='already()'>
                                                    <i class="entypo-cancel"></i>Delete
                                                </button>
                                                 </a>
                                         
                                        </td>
                                    }
                                    </tr>
                                       }
                                   }
                                }
                            </table>
                               }
                                 @* <div class="btn-group" style="float:left" id="AddNewProject">                 
                     <button class="btn btn-blue" style="font-weight:bold;right: 20px;left: 10px;" type="button"  style="width: 100px;" onclick='AddTask()' >
                        Add Task
                    </button>
                        </div>*@
                        </div>
                    </div>
                </div>
            </div>
        </div>








      @*  Assign Task  *@


     
         <div class="tab-pane" id="learning1">
        @*  <ol class="breadcrumb bc-3">
           <li> Assign Task </li>
        <li class="active"><strong>  Assign Task</strong></li>
    </ol>  *@

            <div class="row">
                <div class="col-md-12">
                    <div class="panel panel-default panel-shadow" data-collapsed="0">
                        <div class="panel-heading">
                            <div class="panel-title" color="White">
                                Assign Task</div>
                        </div>
                        <div class="panel-body">
                        <div class="btn-group" style="float:right" id="AddNewProject">
                        <button class="btn btn-blue" style="font-weight:bold;right: 20px;left: 0px;" type="button"  style="width: 100px;" onclick='AssignNewTask()'>
                        Assign Task
                    </button>
                    </div>
                            <div class="clear">
                            </div>
                            <br />
                                @using (Html.BeginForm("TimeSheetDesign", "TSR", FormMethod.Get))
                                { 
                            <table class="table table-bordered datatable" id="tblProjects2">
                                <thead>
                                <tr>
                                  
                                         <th style="text-align:left;">
                                    @Html.DisplayName("Project Name")
                                    </th>  
                                      <th style="text-align:left;">
                                   @Html.DisplayName("Phase Name")
                                    </th>
                                  
           
                                  <th style="text-align:left;">
                                   @Html.DisplayName("Task Name")
                                    </th>
           
                                      <th style="text-align:left;">
                                   @Html.DisplayName("Task Status")
                                    </th>

                                     <th style="text-align:left;">
                                     @Html.DisplayName("No Of Efforts")
                                    </th>
                                    <th style="text-align:center;">
                                        @Html.DisplayName(" Start Date")
                                    </th>
                                    <th style="text-align:center;">
                                        @Html.DisplayName("End Date")
                                    </th>
                                   
                                   <th style="text-align:left;">
                                     @Html.DisplayName("Employees")
                                    </th>
                                     <th style="text-align:center;">
                                       @Html.DisplayName("Edit")
                                    </th>
                                      <th style="text-align:center;">
                                     @Html.DisplayName("Delete")
                                    </th>
                                </tr>
                            </thead>
                                @{
                                    foreach (var item in Model.assigntask)
                                    {
                                    <tr>
                                    @Html.HiddenFor(modelItem => item.ProjectId)
                                   
                                         
                                                              
                                     <td style="width:3800px;word-wrap:breakword;word-break:break-all;text-align:left;" >
                                        @Html.DisplayFor(modelItem => item.ProjectName)
                                    </td>
                                     
                                    <td style="width:3800px;word-wrap:breakword;word-break:break-all;text-align:left;" >
                                        @Html.DisplayFor(modelItem => item.PhaseName)
                                    </td> 
                                   
                                     <td style="width:3800px;word-wrap:breakword;word-break:break-all;text-align:left;" >
                                        @Html.DisplayFor(modelItem => item.TaskName)
                                        </td> 
                                          <td style="width:3800px;word-wrap:breakword;word-break:break-all;text-align:left;" >
                                           @Html.DisplayFor(modelItem => item.taskstatus)
                                    </td> 
                                           <td style="width:3800px;word-wrap:breakword;word-break:break-all;text-align:center;" >
                                       
                                        @Html.DisplayFor(modelItem => item.NumberOfEfforts)
                                    </td> 
                                 
                                     @if (item.StartDate.HasValue)
                                     {
                                   <td style="width:3000px;word-wrap:breakword;word-break:break-all;text-align:center;" >
                                      @item.StartDate.Value.ToString("dd/MM/yyyy")
                                    </td>
                                     }
                                      @if (item.EndDate.HasValue)
                                      {
                                   <td style="width:3000px;word-wrap:breakword;word-break:break-all;text-align:center;" >
                                      @item.EndDate.Value.ToString("dd/MM/yyyy")
                                    </td>
                                      }
                                    
                                    
                                     <td style="width:3800px;word-wrap:breakword;word-break:break-all;text-align:left;" >
                                       @Html.DisplayFor(modelItem => item.multiselectemployess)
                                    </td> 
                                    
                                    
                                      <td>
                                        <a>
                                            <button type="button" class="btn btn-info btn-sm btn-block btn-icon icon-left" onclick='Edit("@item.assigntaskid")'>
                                            <i class="entypo-pencil"></i>Edit
                                            </button>
                                        </a>
                                    </td>
                                    @* <td>
                                 
                                  <a>
                              <button type="button"  class="btn btn-red btn-icon icon-left"  onclick='Delete("@item.assigntaskid")' >
                              <i class="entypo-info" ></i> Delete
                              </button>
                              </a>  
                                </td> *@
                                  <td style="text-align: center;">
                                             <a>
                                                <button type="button" class="btn btn-red btn-icon icon-left"  onclick='Delete("@item.assigntaskid")'>
                                                    <i class="entypo-cancel"></i>Delete
                                                </button>
                                                 </a>
                                         
                                        </td>
                                    </tr>   
                                    }
                                }
                            </table>
                                }
 @*<div class="btn-group" style="float:left" id="AddNewProject">
                        <button class="btn btn-blue"  style="font-weight: bold;right: 00px;left: 20px;" type="button"  style="width: 100px;" onclick='AssignNewTask()'>
                        Assign Task
                    </button>
                    </div>*@
                                
                    </div>
                </div>
            </div>
        </div>
      
        </div>
        </div>

}

else if (@Model.newtask == 1)
{

 <div class="tab-content">
     
    

     
      
    @*  Add Phase *@


     <div class="tab-pane " id="enrollment">
            <div class="row">
                <div class="col-md-12">
                <div class="panel-heading">
@*                            <div class="panel-title" color="White">
                                Current Enrollment</div>*@
                        </div>
                    @{
    Html.RenderAction("AddPhase", "TSR");
                    }
                </div>
            </div>
            </div>



            @* Add Task *@

             <div class="tab-pane active" id="TimeSheetManagement">
          @*<ol class="breadcrumb bc-3">
           <li> Task </li>
        <li class="active"><strong>Add Task</strong></li>
    </ol>  *@

            <div class="row">
                <div class="col-md-12">
                    <div class="panel panel-default panel-shadow" data-collapsed="0">
                        <div class="panel-heading">
                            <div class="panel-title" color="White">
                                Task</div>
                        </div>
                        <div class="panel-body">
                          <div class="btn-group" style="float:right" id="AddNewProject">                 
                     <button class="btn btn-blue" style="font-weight:bold;right: 20px;left: 10px;" type="button"  style="width: 100px;" onclick='AddTask()' >
                        Add Task
                    </button>
                        </div>
                            <div class="clear">
                            </div>
                            <br />
                               @using (Html.BeginForm("TimeSheetDesign", "TSR", FormMethod.Post))
                               { 
                        <table class="table table-bordered datatable" id="tblProjects3">
                                 <thead>
                                <tr>
                                   @* <th>
                                       Task ID
                                    </th>*@
                                  
                                     <th>
                                       Project Name
                                    </th>

                                   
                                    <th>
                                     Phase Name
                                    </th>
                                      <th>
                                      Phase Status
                                    </th>
                                
                                    <th>
                                        Task Status
                                    </th>
                                    <th>
                                       Task  Name
                                    </th>
                                    <th>
                                      No Of Efforts
                                     
                                    </th>
                                  
                                    <th>
                                     Start Date
                                    </th>

                                    <th>
                                   End Date
                                    </th>
                                      
                                   <th >
                                   @Html.DisplayName("Edit")
                                    </th>

                                    <th>
                                   @Html.DisplayName("Delete")
                                    </th>
                                </tr>
                            </thead>
                                @{
                                   foreach (var item in Model.addtask)
                                   {
                                       if (@item.EndDate < System.DateTime.Now)
                                       {                       
                                    <tr>
                                       @* <td style="text-align: center">
                                             @Html.DisplayFor(modelitem => item.ID)
                                        </td>*@
                                        <td style="width:3800px;word-wrap:breakword;word-break:break-all;Color:Red;text-align:left;">
                                            @Html.DisplayFor(modelitem => item.ProjectName)
                                        </td>

                                       
                                        <td style="width:3800px;word-wrap:breakword;word-break:break-all;Color:Red;text-align:left;">
                                            @Html.DisplayFor(modelitem => item.PhaseName)
                                        </td>
                                          <td style="width:3800px;word-wrap:breakword;word-break:break-all;Color:Red;text-align:left;">
                                        @Html.DisplayFor(modelitem => item.PhaseStatus)
                                        </td>

                                         <td style="width:3800px;word-wrap:breakword;word-break:break-all;Color:Red;text-align:left;">
                                        @Html.DisplayFor(modelitem => item.Taskstatus)
                                        </td>
                                         <td style="width:3800px;word-wrap:breakword;word-break:break-all;Color:Red;text-align:left;">
                                        @Html.DisplayFor(modelitem => item.TaskName)
                                        </td>
                                       <td style="text-align:center;">
                                        @Html.DisplayFor(modelitem => item.Efforts)
                                        </td>
                                        @if (item.StartDate.HasValue)
                                        {
                                      <td style="width:3000px;word-wrap:breakword;word-break:break-all;Color:Red;text-align:center;">
                                    @item.StartDate.Value.ToString("dd/MM/yyyy")
                                   </td>
                                        }
                                      @if (item.EndDate.HasValue)
                                      {
                                        <td style="width:3000px;word-wrap:breakword;word-break:break-all;Color:Red;text-align:center;">
                                     
                                          @item.EndDate.Value.ToString("dd/MM/yyyy")
                                        </td>
                                      }
                                       
                                      <td>
                                        <a>
                                            <button type="button" class="btn btn-info btn-sm btn-block btn-icon icon-left" onclick='EditTask("@item.ID")'>
                                            <i class="entypo-pencil"></i>Edit
                                            </button>
                                        </a>
                                    </td>
                                   @*  <td>
                                 
                                  <a>
                              <button type="button"  class="btn btn-red btn-icon icon-left"  onclick='DeleteTask("@item.ID")' >
                              <i class="entypo-info" ></i> Delete
                              </button>
                              </a>  
                                </td>*@
                                @if(item.alreadyassigned == 0)
                                {
                                 <td style="text-align: center;">
                                             <a>
                                                <button type="button" class="btn btn-red btn-icon icon-left" onclick='DeleteTask("@item.ID")'  >
                                                    <i class="entypo-cancel"></i>Delete
                                                </button>
                                                 </a>
                                         
                                        </td>
                                    }
                                    else
                                    {
                                              <td style="text-align: center;">
                                             <a>
                                                <button type="button" class="btn btn-red btn-icon icon-left" onclick='already()'  >
                                                    <i class="entypo-cancel"></i>Delete
                                                </button>
                                                 </a>
                                         
                                        </td>
                                    
                                    
                                    }  
                                    </tr>
                                       }

                                       else
                                       {
                                            <tr>
                                       @* <td style="text-align: center">
                                             @Html.DisplayFor(modelitem => item.ID)
                                        </td>*@
                                        <td style="width:3800px;word-wrap:breakword;word-break:break-all;text-align:left;">
                                            @Html.DisplayFor(modelitem => item.ProjectName)
                                        </td>

                                       
                                        <td style="width:3800px;word-wrap:breakword;word-break:break-all;text-align:left;">
                                            @Html.DisplayFor(modelitem => item.PhaseName)
                                        </td>
                                          <td style="width:3800px;word-wrap:breakword;word-break:break-all;text-align:left;">
                                        @Html.DisplayFor(modelitem => item.PhaseStatus)
                                        </td>
                                         <td style="width:3800px;word-wrap:breakword;word-break:break-all;text-align:left;">
                                        @Html.DisplayFor(modelitem => item.Taskstatus)
                                        </td>
                                         <td style="width:3800px;word-wrap:breakword;word-break:break-all;text-align:left;">
                                        @Html.DisplayFor(modelitem => item.TaskName)
                                        </td>
                                       <td style="text-align:center;">
                                        @Html.DisplayFor(modelitem => item.Efforts)
                                        </td>
                                        @if (item.StartDate.HasValue)
                                        {
                                      <td style="width:3000px;word-wrap:breakword;word-break:break-all;text-align:center;">
                                    @item.StartDate.Value.ToString("dd/MM/yyyy")
                                   </td>
                                        }
                                      @if (item.EndDate.HasValue)
                                      {
                                        <td style="width:3000px;word-wrap:breakword;word-break:break-all;text-align:center;">
                                     
                                          @item.EndDate.Value.ToString("dd/MM/yyyy")
                                        </td>
                                      }
                                       
                                      <td>
                                        <a>
                                            <button type="button" class="btn btn-info btn-sm btn-block btn-icon icon-left" onclick='EditTask("@item.ID")'>
                                            <i class="entypo-pencil"></i>Edit
                                            </button>
                                        </a>
                                    </td>
                                   @*  <td>
                                 
                                  <a>
                              <button type="button"  class="btn btn-red btn-icon icon-left"  onclick='DeleteTask("@item.ID")' >
                              <i class="entypo-info" ></i> Delete
                              </button>
                              </a>  
                                </td> *@
                                @if(item.alreadyassigned ==0)
                                {
                                  <td style="text-align: center;">
                                             <a>
                                                <button type="button" class="btn btn-red btn-icon icon-left" onclick='DeleteTask("@item.ID")'>
                                                    <i class="entypo-cancel"></i>Delete
                                                </button>
                                                 </a>
                                         
                                        </td>
                                    }
                                    else
                                    {
                                    <td style="text-align: center;">
                                             <a>
                                                <button type="button" class="btn btn-red btn-icon icon-left" onclick='already()'>
                                                    <i class="entypo-cancel"></i>Delete
                                                </button>
                                                 </a>
                                         
                                        </td>
                                    }
                                    </tr>
                                       }
                                   }
                                }
                            </table>
                               }
                                
                        </div>
                    </div>
                </div>
            </div>
        </div>








      @*  Assign Task  *@


      


         <div class="tab-pane" id="learning1">
          @*<ol class="breadcrumb bc-3">
           <li> Assign Task </li>
        <li class="active"><strong>    Assign Task</strong></li>
    </ol>  *@

            <div class="row">
                <div class="col-md-12">
                    <div class="panel panel-default panel-shadow" data-collapsed="0">
                        <div class="panel-heading">
                            <div class="panel-title" color="White">
                                Assign Task</div>
                        </div>
                        <div class="panel-body">
                          <div class="btn-group" style="float:right" id="AddNewProject">
                        <button class="btn btn-blue"  style="font-weight: bold;right: 00px;left: 20px;" type="button"  style="width: 100px;" onclick='AssignNewTask()'>
                        Assign Task
                    </button>
                    </div>
                            <div class="clear">
                            </div>
                            <br />
                                @using (Html.BeginForm("TimeSheetDesign", "TSR", FormMethod.Get))
                                { 
                            <table class="table table-bordered datatable" id="tblProjects4">
                                <thead>
                                <tr>
                                     <th style="text-align:left;">
                                    @Html.DisplayName("Project Name")
                                    </th>
                                       <th style="text-align:left;">
                                   @Html.DisplayName("Phase Name")
                                    </th>
                                   
                                    <th style="text-align:left;">
                                   @Html.DisplayName("Task Name")
                                    </th>
                                     <th style="text-align:left;">
                                   @Html.DisplayName("Task Status")
                                    </th>
                                     <th style="text-align:left;">
                                     @Html.DisplayName("No Of Efforts")
                                    </th>
                                    <th style="text-align:center;">
                                        @Html.DisplayName(" Start Date")
                                    </th>
                                    <th style="text-align:center;">
                                        @Html.DisplayName("End Date")
                                    </th>
                                   
                                   <th style="text-align:left;">
                                     @Html.DisplayName("Employees")
                                    </th>
                                       <th style="text-align:center;">
                                       @Html.DisplayName("Edit")
                                    </th>
                                      <th style="text-align:center;">
                                     @Html.DisplayName("Delete")
                                    </th>
                                </tr>
                            </thead>
                                @{
                                    foreach (var item in Model.assigntask)
                                    {
                                    <tr>
                                       @Html.HiddenFor(modelItem => item.ProjectId)
                                                        
                                     <td style="width:3800px;word-wrap:breakword;word-break:break-all;text-align:left;" >
                                        @Html.DisplayFor(modelItem => item.ProjectName)
                                    </td>
                                     
                                         <td style="width:3800px;word-wrap:breakword;word-break:break-all;text-align:left;" >
                                        @Html.DisplayFor(modelItem => item.PhaseName)
                                    </td> 
                                    
                                  
                                    <td style="width:3800px;word-wrap:breakword;word-break:break-all;text-align:left;" >
                                        @Html.DisplayFor(modelItem => item.TaskName)
                                        </td> 
                                         <td style="width:3800px;word-wrap:breakword;word-break:break-all;text-align:left;" >
                                           @Html.DisplayFor(modelItem => item.taskstatus)
                                          </td>  
                                         
                                           <td style="width:3800px;word-wrap:breakword;word-break:break-all;text-align:center;" >
                                       
                                        @Html.DisplayFor(modelItem => item.NumberOfEfforts)
                                    </td> 
                                 
                                     @if (item.StartDate.HasValue)
                                     {
                                   <td style="width:3000px;word-wrap:breakword;word-break:break-all;text-align:center;" >
                                      @item.StartDate.Value.ToString("dd/MM/yyyy")
                                    </td>
                                     }
                                      @if (item.EndDate.HasValue)
                                      {
                                   <td style="width:3000px;word-wrap:breakword;word-break:break-all;text-align:center;" >
                                      @item.EndDate.Value.ToString("dd/MM/yyyy")
                                    </td>
                                      }
                                    
                                    
                                     <td style="width:3800px;word-wrap:breakword;word-break:break-all;text-align:left;" >
                                       @Html.DisplayFor(modelItem => item.multiselectemployess)
                                    </td> 
                                    
                                    
                                      <td>
                                        <a>
                                            <button type="button" class="btn btn-info btn-sm btn-block btn-icon icon-left" onclick='Edit("@item.assigntaskid")'>
                                            <i class="entypo-pencil"></i>Edit
                                            </button>
                                        </a>
                                    </td>
                                  @*   <td>
                                 
                                  <a>
                              <button type="button"  class="btn btn-red btn-icon icon-left"  onclick='Delete("@item.assigntaskid")' >
                              <i class="entypo-info" ></i> Delete
                              </button>
                              </a>  
                                </td> *@
                                <td style="text-align: center;">
                                             <a>
                                                <button type="button" class="btn btn-red btn-icon icon-left"  onclick='Delete("@item.assigntaskid")'>
                                                    <i class="entypo-cancel"></i>Delete
                                                </button>
                                                 </a>
                                         
                                        </td>
                                    </tr>   
                                    }
                                }
                            </table>
                                }
@* <div class="btn-group" style="float:left" id="AddNewProject">
                        <button class="btn btn-blue"  style="font-weight: bold;right: 00px;left: 20px;" type="button"  style="width: 100px;" onclick='AssignNewTask()'>
                        Assign Task
                    </button>
                    </div>*@
                                
                    </div>
                </div>
            </div>
        </div>
      
        </div>
        </div>

}

else if (@Model.newassigntask == 1)
{
<div class="tab-content">
     
    

     
      
    @*  Add Phase *@


     <div class="tab-pane " id="enrollment">
            <div class="row">
                <div class="col-md-12">
                <div class="panel-heading">
@*                            <div class="panel-title" color="White">
                                Current Enrollment</div>*@
                        </div>
                    @{
    Html.RenderAction("AddPhase", "TSR");
                    }
                </div>
            </div>
            </div>



            @* Add Task *@

             <div class="tab-pane" id="TimeSheetManagement">
         @* <ol class="breadcrumb bc-3">
           <li> Task </li>
        <li class="active"><strong>Add Task</strong></li>
    </ol>  *@

            <div class="row">
                <div class="col-md-12">
                    <div class="panel panel-default panel-shadow" data-collapsed="0">
                        <div class="panel-heading">
                            <div class="panel-title" color="White">
                                Task</div>
                        </div>
                        <div class="panel-body">
                          <div class="btn-group" style="float:right" id="AddNewProject">                 
                     <button class="btn btn-blue" style="font-weight:bold;right: 20px;left: 10px;" type="button"  style="width: 100px;" onclick='AddTask()' >
                        Add Task
                    </button>
                        </div>
                            <div class="clear">
                            </div>
                            <br />
                               @using (Html.BeginForm("TimeSheetDesign", "TSR", FormMethod.Post))
                               { 
                        <table class="table table-bordered datatable" id="tblProjects5">
                                 <thead>
                                <tr>
                                   @* <th>
                                       Task ID
                                    </th>*@
                                  
                                     <th>
                                       Project Name
                                    </th>

                                    
                                
                                    <th>
                                     Phase Name
                                    </th>
                                     <th>
                                      Phase Status
                                    </th>

                                  
                                    <th>
                                        Task Status
                                    </th>
                                    <th>
                                       Task  Name
                                    </th>
                                    <th>
                                      No Of Efforts
                                     
                                    </th>
                                  
                                    <th>
                                     Start Date
                                    </th>

                                    <th>
                                   End Date
                                    </th>
                                      
                              
                                      <th style="text-align:center;">
                                       @Html.DisplayName("Edit")
                                    </th>
                                      <th style="text-align:center;">
                                     @Html.DisplayName("Delete")
                                    </th>
                                  
                                    
                                </tr>
                            </thead>
                                @{
                                   foreach (var item in Model.addtask)
                                   {
                                       if (@item.EndDate < System.DateTime.Now)
                                       {                       
                                    <tr>
                                        @*<td style="text-align: center">
                                             @Html.DisplayFor(modelitem => item.ID)
                                        </td>*@
                                        <td style="width:3800px;word-wrap:breakword;word-break:break-all;Color:Red;text-align:left;">
                                            @Html.DisplayFor(modelitem => item.ProjectName)
                                        </td>

                                        <td style="width:3800px;word-wrap:breakword;word-break:break-all;Color:Red;text-align:left;">
                                            @Html.DisplayFor(modelitem => item.PhaseName)
                                        </td>
                                        
                                         <td style="width:3800px;word-wrap:breakword;word-break:break-all;Color:Red;text-align:left;">
                                        @Html.DisplayFor(modelitem => item.PhaseStatus)
                                        </td>

                                         <td style="width:3800px;word-wrap:breakword;word-break:break-all;Color:Red;text-align:left;">
                                        @Html.DisplayFor(modelitem => item.Taskstatus)
                                        </td>
                                         <td style="width:3800px;word-wrap:breakword;word-break:break-all;Color:Red;text-align:left;">
                                        @Html.DisplayFor(modelitem => item.TaskName)
                                        </td>
                                       <td style="text-align:center;">
                                        @Html.DisplayFor(modelitem => item.Efforts)
                                        </td>
                                        @if (item.StartDate.HasValue)
                                        {
                                      <td style="width:3000px;word-wrap:breakword;word-break:break-all;Color:Red;text-align:center;">
                                    @item.StartDate.Value.ToString("dd/MM/yyyy")
                                   </td>
                                        }
                                      @if (item.EndDate.HasValue)
                                      {
                                        <td style="width:3000px;word-wrap:breakword;word-break:break-all;Color:Red;text-align:center;">
                                     
                                          @item.EndDate.Value.ToString("dd/MM/yyyy")
                                        </td>
                                      }
                                       
                                      <td>
                                        <a>
                                            <button type="button" class="btn btn-info btn-sm btn-block btn-icon icon-left" onclick='EditTask("@item.ID")'>
                                            <i class="entypo-pencil"></i>Edit
                                            </button>
                                        </a>
                                    </td>
                                          @if(item.alreadyassigned ==0)
                                          {
                                     <td>
                                 
                                  <a>
                              <button type="button"  class="btn btn-red btn-icon icon-left"  onclick='DeleteTask("@item.ID")' >
                              <i class="entypo-info" ></i> Delete
                              </button>
                              </a>  
                                </td> 
                                              }
                                              else
                                              {
                                                <td>
                                 
                                  <a>
                              <button type="button"  class="btn btn-red btn-icon icon-left"  onclick='already()' >
                              <i class="entypo-info" ></i> Delete
                              </button>
                              </a>  
                                </td> 
                                              
                                              }
                                    </tr>
                                       }

                                       else
                                       {
                                            <tr>
                                       @* <td style="text-align: center">
                                             @Html.DisplayFor(modelitem => item.ID)
                                        </td>*@
                                        <td style="width:3800px;word-wrap:breakword;word-break:break-all;text-align:left;">
                                            @Html.DisplayFor(modelitem => item.ProjectName)
                                        </td>

                                     

                                        <td style="width:3800px;word-wrap:breakword;word-break:break-all;text-align:left;">
                                            @Html.DisplayFor(modelitem => item.PhaseName)
                                        </td>
                                            <td style="width:3800px;word-wrap:breakword;word-break:break-all;text-align:left;">
                                        @Html.DisplayFor(modelitem => item.PhaseStatus)
                                        </td>
                                         <td style="width:3800px;word-wrap:breakword;word-break:break-all;text-align:left;">
                                        @Html.DisplayFor(modelitem => item.Taskstatus)
                                        </td>
                                         <td style="width:3800px;word-wrap:breakword;word-break:break-all;text-align:left;">
                                        @Html.DisplayFor(modelitem => item.TaskName)
                                        </td>
                                       <td style="text-align:center;">
                                        @Html.DisplayFor(modelitem => item.Efforts)
                                        </td>
                                        @if (item.StartDate.HasValue)
                                        {
                                      <td style="width:3000px;word-wrap:breakword;word-break:break-all;text-align:center;">
                                    @item.StartDate.Value.ToString("dd/MM/yyyy")
                                   </td>
                                        }
                                      @if (item.EndDate.HasValue)
                                      {
                                        <td style="width:3000px;word-wrap:breakword;word-break:break-all;text-align:center;">
                                     
                                          @item.EndDate.Value.ToString("dd/MM/yyyy")
                                        </td>
                                      }
                                       
                                      <td>
                                        <a>
                                            <button type="button" class="btn btn-info btn-sm btn-block btn-icon icon-left" onclick='EditTask("@item.ID")'>
                                            <i class="entypo-pencil"></i>Edit
                                            </button>
                                        </a>
                                    </td>
                                          @if(item.alreadyassigned ==0)
                                          {
                                     <td>
                                 
                                  <a>
                              <button type="button"  class="btn btn-red btn-icon icon-left"  onclick='DeleteTask("@item.ID")' >
                              <i class="entypo-info" ></i> Delete
                              </button>
                              </a>  
                                </td> 
                                              }
                                              else
                                              {
                                               <td>
                                 
                                  <a>
                              <button type="button"  class="btn btn-red btn-icon icon-left"  onclick='already()' >
                              <i class="entypo-info" ></i> Delete
                              </button>
                              </a>  
                                </td> 
                                         
                                              
                                              
                                              }
                                    </tr>
                                       }
                                   }
                                }
                            </table>
                               }
                   
                        </div>
                    </div>
                </div>
            </div>
        </div>








      @*  Assign Task  *@


      


         <div class="tab-pane active" id="learning1">
         @* <ol class="breadcrumb bc-3">
           <li> Assign Task </li>
        <li class="active"><strong> Assign Task</strong></li>
    </ol>  
*@
            <div class="row">
                <div class="col-md-12">
                    <div class="panel panel-default panel-shadow" data-collapsed="0">
                        <div class="panel-heading">
                            <div class="panel-title" color="White">
                              Assign Task</div>
                        </div>
                        <div class="panel-body">
                          <div class="btn-group" style="float:right" id="AddNewProject">
                        <button class="btn btn-blue"  style="font-weight: bold;right: 00px;left: 20px;" type="button"  style="width: 100px;" onclick='AssignNewTask()'>
                        Assign Task
                    </button>
                    </div>
                            <div class="clear">
                            </div>
                            <br />
                                @using (Html.BeginForm("TimeSheetDesign", "TSR", FormMethod.Get))
                                { 
                            <table class="table table-bordered datatable" id="tblProjects6">
                                <thead>
                                <tr>
                                  
                                     <th style="text-align:left;">
                                    @Html.DisplayName("Project Name")
                                    </th>
                                   
                                    <th style="text-align:left;">
                                   @Html.DisplayName("Phase Name")
                                    </th>
                                   

                                    <th style="text-align:left;">
                                   @Html.DisplayName("Task Name")
                                    </th>

                                      <th style="text-align:left;">
                                   @Html.DisplayName("Task Status")
                                    </th>
                                      
                                     <th style="text-align:left;">
                                     @Html.DisplayName("No Of Efforts")
                                    </th>
                                    <th style="text-align:center;">
                                        @Html.DisplayName(" Start Date")
                                    </th>
                                    <th style="text-align:center;">
                                        @Html.DisplayName("End Date")
                                    </th>
                                   
                                   <th style="text-align:left;">
                                     @Html.DisplayName("Employees")
                                    </th>
                                    <th style="text-align:center;">
                                       @Html.DisplayName("Edit")
                                    </th>
                                      <th style="text-align:center;">
                                     @Html.DisplayName("Delete")
                                    </th>
                                </tr>
                            </thead>
                                @{
                                    foreach (var item in Model.assigntask)
                                    {
                                    <tr>
                                    @Html.HiddenFor(modelItem => item.ProjectId)
                                             
                                     <td style="width:3800px;word-wrap:breakword;word-break:break-all;text-align:left;" >
                                        @Html.DisplayFor(modelItem => item.ProjectName)
                                    </td>
                                          <td style="width:3800px;word-wrap:breakword;word-break:break-all;text-align:left;" >
                                        @Html.DisplayFor(modelItem => item.PhaseName)
                                    </td>   

                                   

                                     <td style="width:3800px;word-wrap:breakword;word-break:break-all;text-align:left;" >
                                        @Html.DisplayFor(modelItem => item.TaskName)
                                        </td>
                                         <td style="width:3800px;word-wrap:breakword;word-break:break-all;text-align:left;" >
                                           @Html.DisplayFor(modelItem => item.taskstatus)
                                    </td>
                                          
                                               
                                           <td style="width:3800px;word-wrap:breakword;word-break:break-all;text-align:center;" >
                                       
                                        @Html.DisplayFor(modelItem => item.NumberOfEfforts)
                                    </td> 
                                 
                                     @if (item.StartDate.HasValue)
                                     {
                                   <td style="width:3000px;word-wrap:breakword;word-break:break-all;text-align:center;" >
                                      @item.StartDate.Value.ToString("dd/MM/yyyy")
                                    </td>
                                     }
                                      @if (item.EndDate.HasValue)
                                      {
                                   <td style="width:3000px;word-wrap:breakword;word-break:break-all;text-align:center;" >
                                      @item.EndDate.Value.ToString("dd/MM/yyyy")
                                    </td>
                                      }
                                    
                                    
                                     <td style="width:3800px;word-wrap:breakword;word-break:break-all;text-align:left;" >
                                       @Html.DisplayFor(modelItem => item.multiselectemployess)
                                    </td> 
                                    
                                    
                                      <td>
                                        <a>
                                            <button type="button" class="btn btn-info btn-sm btn-block btn-icon icon-left" onclick='Edit("@item.assigntaskid")'>
                                            <i class="entypo-pencil"></i>Edit
                                            </button>
                                        </a>
                                    </td>
                                       
                                     <td>
                                
                                  <a>
                              <button type="button"  class="btn btn-red btn-icon icon-left"  onclick='Delete("@item.assigntaskid")' >
                              <i class="entypo-info" ></i> Delete
                              </button>
                              </a>  
                                </td> 
                                    </tr>   
                                    }
                                }
                            </table>
                                }
@* <div class="btn-group" style="float:left" id="AddNewProject">
                        <button class="btn btn-blue"  style="font-weight: bold;right: 00px;left: 20px;" type="button"  style="width: 100px;" onclick='AssignNewTask()'>
                        Assign Task
                    </button>
                    </div>*@
                                
                    </div>
                </div>
            </div>
        </div>
      
        </div>
        </div>


}

</div>
        </div>
        
         <div class="modal fade in" id="portlet-config"  role="dialog" aria-labelledby="myModalLabel"
        aria-hidden="true">
        <div class="modal-dialog">
            <div class="tools">
                <div id="PartialSection">
                    <div id="LoaderContent" style="height: 100%;">
                        <img src="../../Content/Template/images/finalloader.GIF" style="margin-left: 43%;
                            margin-top: 40%;" />
                    </div>
                </div>
            </div>
        </div>
    </div>             

   <script src="../../Content/Template/js/jquery.dataTables.min.js" type="text/javascript"></script>
    <script src="../../Content/Template/js/dataTables.bootstrap.js" type="text/javascript"></script>
    <script src="../../Content/Template/js/select2/select2.min.js" type="text/javascript"></script>
    <script src="../../Content/bootstrap/bootbox.min.js" type="text/javascript"></script>
    <script src="../../Content/bootstrap/js/bootstrap.min.js" type="text/javascript"></script>
    <script src="../../Content/bootstrap/js/bootstrap.js" type="text/javascript"></script>
    <script src="../../Content/Template/js/toastr.js" type="text/javascript"></script>
 
<script type="text/javascript">

    jQuery(document).ready(function ($) {

        var columnDefs;

        $("#tblProjects1").dataTable({
            "sPaginationType": "bootstrap",
            "aLengthMenu": [[ 10, 15, 20,25, -1], [10, 15,20, 25, "All"]],
            "aaSorting": [],
            "columnDefs": [{ bSortable: false, 'aTargets': [8] }, { bSortable: false, 'aTargets': [9]}]

        });
        $(".dataTables_wrapper select").select2({
            minimumResultsForSearch: -1
        });
        $('thead>tr>th').css('text-align', 'center');


        $("#tblProjects2").dataTable({
            "sPaginationType": "bootstrap",
            "aLengthMenu": [[ 10, 15, 20, 25, -1], [ 10,15, 20, 25, "All"]],
            "aaSorting": [],
            "columnDefs": [{ bSortable: false, 'aTargets': [8] }, { bSortable: false, 'aTargets': [9]}]
        });
        $(".dataTables_wrapper select").select2({
            minimumResultsForSearch: -1
        });
        $('thead>tr>th').css('text-align', 'center');

        $("#tblProjects3").dataTable({
            "sPaginationType": "bootstrap",
            "aLengthMenu": [[10, 15, 20, 25,-1], [10, 15, 20, 25, "All"]],
            "aaSorting": [],
            "columnDefs": [{ bSortable: false, 'aTargets': [8] }, { bSortable: false, 'aTargets': [9]}]

        });
        $(".dataTables_wrapper select").select2({
            minimumResultsForSearch: -1
        });
        $('thead>tr>th').css('text-align', 'center');


        $("#tblProjects4").dataTable({
            "sPaginationType": "bootstrap",
            "aLengthMenu": [[10, 15, 20, 25, -1], [10, 15, 20, 25 ,"All"]],
            "aaSorting": [],
            "columnDefs": [{ bSortable: false, 'aTargets': [8] }, { bSortable: false, 'aTargets': [9]}]
        });
        $(".dataTables_wrapper select").select2({
            minimumResultsForSearch: -1
        });
        $('thead>tr>th').css('text-align', 'center');



        $("#tblProjects5").dataTable({
            "sPaginationType": "bootstrap",
            "aLengthMenu": [[ 10, 15, 20, 25, -1], [ 10, 15, 20, 25, "All"]],
            "aaSorting": [],
            "columnDefs": [{ bSortable: false, 'aTargets': [8] }, { bSortable: false, 'aTargets': [9]}]

        });
        $(".dataTables_wrapper select").select2({
            minimumResultsForSearch: -1
        });
        $('thead>tr>th').css('text-align', 'center');



        $("#tblProjects6").dataTable({
            "sPaginationType": "bootstrap",
            "aLengthMenu": [[ 10, 15, 20, 25,-1], [10, 15, 20, 25, "All"]],
            "aaSorting": [],
            "columnDefs": [{ bSortable: false, 'aTargets': [8] }, { bSortable: false, 'aTargets': [9]}]
        });
        $(".dataTables_wrapper select").select2({
            minimumResultsForSearch: -1
        });
        $('thead>tr>th').css('text-align', 'center');

    });

   

    function Edit(assigntid) {

        $.ajax({
            url: "../../TSR/AssignTskEdit/",
            type: 'GET',
            cache: false,
            data: { assigntaskid: assigntid },
            success: function (result) {

                $('#PartialSection').html(result);
                $('#portlet-config').appendTo("body").modal('show');

            }

        });
    }
    function Delete(assigntid) {
    
        bootbox.confirm("Are you sure want to delete ?", function (conform) {
            if (conform) {
                $.ajax({ url: "../TSR/AssignTaskDelete/",
                    type: 'POST', cache: false,
                    data: { assigntaskid: assigntid },
                    success: function (result) {
                        if (result === "Success") {
                            $("#portlet-config").modal("hide");
                            toastr.success(" Assigned task deleted successfully!");
                            setTimeout(function () { location.reload(); }, 1000);
                        }

                    }
                });
            }
        });
    }

   


    function EditTask(tskid, projid) {

        $.ajax({
            url: "../../TSR/EditTask/",
            type: 'GET',
            cache: false,
            data: { taskid: tskid, projectid: projid },
            success: function (result) {

                $('#PartialSection').html(result);
                $('#portlet-config').appendTo("body").modal('show');

            }

        });
    }
    function already() {

        toastr.warning("Task is already assigned.Delete the assigned task first");
    }

    function Employees(tskid, projid) {

        $.ajax({
            url: "../../TSR/Employees/",
            type: 'GET',
            cache: false,
            data: { taskid: tskid, projectid: projid },
            success: function (result) {

                $('#PartialSection').html(result);
                $('#portlet-config').appendTo("body").modal('show');

            }

        });

    }


    function AddTask() {


        $.ajax({
            url: "../../AddTask/AddTask/",
            type: 'GET', cache: false,
            success: function (result) {
                $('#PartialSection').html(result);
                $('#portlet-config').appendTo("body").modal({ backdrop: 'static', keyboard: false });

            }

        });

    }


    function AssignNewTask() {

        $.ajax({

            url: "../../AssignTask/AssignNewTask/",

            type: 'GET', cache: false,
            success: function (result) {

                $('#PartialSection').html(result);
                $('#portlet-config').appendTo("body").modal({ backdrop: 'static', keyboard: false });

            }

        });


    }




    function DeleteTask(Id) {
        bootbox.confirm("Are you sure want to delete ?", function (conform) {
            if (conform) {
                $.ajax({ url: "../TSR/DeleteTask/",
                    type: 'POST',
                    cache: false,
                    data: { ID: Id },
                    success: function (result) {
                        if (result === "Success") {
                            $("#portlet-config").modal("hide");
                            toastr.success(" Task deleted successfully!");
                            setTimeout(function () { location.reload(); }, 1000);

                        }

                    }
                });
            }
        });
    }


    </script>
        
